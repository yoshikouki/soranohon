# 要件定義

## プロジェクト概要

**soranohon**は、青空文庫の児童文学作品を子どもたちが読みやすい形で提供するWebサービスです。

## ビジネス要件

### 目的

1. **読書体験の向上**
   - 子どもが楽しく読書できる環境の提供
   - 視覚的に豊かな読書体験の実現

2. **教育的価値**
   - 日本の優れた児童文学作品へのアクセス向上
   - 読書習慣の形成支援

3. **保護者支援**
   - 子どもの読書進捗の可視化
   - 適切な作品選びのサポート

### ターゲットユーザー

1. **主要ユーザー**: 小学生〜中学生
2. **副次ユーザー**: 保護者、教育関係者
3. **利用シーン**: 自宅、学校、図書館

## 機能要件

### コア機能

1. **作品表示機能**
   - 青空文庫作品のレスポンシブ表示
   - ルビ対応
   - 読みやすいフォントとレイアウト

2. **挿絵機能**
   - AI生成による挿絵の自動作成
   - 作品内への適切な配置
   - キャラクターデザインの一貫性

3. **読書進捗管理**
   - 読書履歴の記録
   - しおり機能
   - 読了状況の管理

### サポート機能

1. **カスタマイズ機能**
   - フォントサイズ調整
   - 背景色・文字色変更
   - 行間調整

2. **検索・フィルタリング**
   - 作品検索
   - ジャンル別表示
   - 学年別推奨作品

3. **音声読み上げ**
   - テキストの音声化
   - 速度調整
   - 一時停止・再開

## 非機能要件

### パフォーマンス

- **初期表示**: 3秒以内
- **ページ遷移**: 1秒以内
- **同時接続数**: 1000ユーザー

### 可用性

- **稼働率**: 99.5%以上
- **計画停止**: 月1回まで
- **障害復旧**: 4時間以内

### セキュリティ

- **通信暗号化**: HTTPS必須
- **個人情報**: 最小限の収集
- **COPPA対応**: 13歳未満の個人情報保護

### ユーザビリティ

- **アクセシビリティ**: WCAG 2.1 AA準拠
- **レスポンシブ**: スマートフォン/タブレット対応
- **直感的UI**: 子どもでも使いやすい

### 互換性

- **ブラウザ**: Chrome, Safari, Firefox, Edge（最新2バージョン）
- **デバイス**: PC, タブレット, スマートフォン
- **OS**: Windows, macOS, iOS, Android

## 技術要件

### フロントエンド

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: React Context API

### バックエンド

- **API**: Next.js API Routes
- **データベース**: PostgreSQL (将来的に)
- **キャッシュ**: Redis (将来的に)

### インフラ

- **ホスティング**: Vercel
- **CDN**: Vercel Edge Network
- **画像ストレージ**: Cloudinary / S3

### AI/ML

- **画像生成**: OpenAI DALL-E / Stable Diffusion
- **テキスト解析**: GPT-4
- **音声合成**: Web Speech API

### 開発環境

- **パッケージマネージャー**: Bun
- **リンター**: Biome
- **テスト**: Vitest
- **CI/CD**: GitHub Actions

## 制約事項

1. **著作権**
   - 青空文庫の利用規約遵守
   - 画像生成時の著作権配慮

2. **予算**
   - 初期開発: 個人プロジェクト
   - ランニングコスト: 月額1万円以内

3. **リソース**
   - 開発者: 1名
   - デザイナー: なし（UIライブラリ使用）

## マイルストーン

### Phase 1: MVP (完了)
- 基本的な作品表示
- 読書履歴機能
- 挿絵計画生成

### Phase 2: 挿絵機能 (進行中)
- キャラクターデザイン生成
- 挿絵自動生成
- 作品への組み込み

### Phase 3: UX改善
- カスタマイズ機能
- 音声読み上げ
- レスポンシブ最適化

### Phase 4: 拡張機能
- レコメンデーション
- 保護者向け機能
- オフライン対応

### Phase 5: スケーリング
- パフォーマンス最適化
- 多言語対応
- 教育機関向け機能